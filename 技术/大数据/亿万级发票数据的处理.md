# 亿万级发票数据处理


16个表,每个表5-15亿数据,每个表分了12个区,表主键是发票号:不连续的字符串
一千三百万企业:查询16个表(一百多个亿的数据) 找出匹配的数据 

1. mysql亿万数据查询太慢
2.分区不均衡 有的区上3亿
3.主键不是连续自增的 

解决:存入ES  每一万条企业查询一次  
没主键导致入ES慢(limit offset慢):加上自增的key  或者 explain 分析  id like '1XX%' 强行把亿万级别分成十万百万级别
 








